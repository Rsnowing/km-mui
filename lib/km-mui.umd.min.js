(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["km-mui"]=e(require("vue")):t["km-mui"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({"0523":function(t,e,i){},"2c75":function(t,e,i){},"4fab":function(t,e,i){},"5cf5":function(t,e,i){},8875:function(t,e,i){var s,n,a;(function(i,o){n=[],s=o,a="function"===typeof s?s.apply(e,n):s,void 0===a||(t.exports=a)})("undefined"!==typeof self&&self,(function(){function t(){if(document.currentScript)return document.currentScript;try{throw new Error}catch(d){var t,e,i,s=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,n=/@([^@]*):(\d+):(\d+)\s*$/gi,a=s.exec(d.stack)||n.exec(d.stack),o=a&&a[1]||!1,r=a&&a[2]||!1,l=document.location.href.replace(document.location.hash,""),c=document.getElementsByTagName("script");o===l&&(t=document.documentElement.outerHTML,e=new RegExp("(?:[^\\n]+?\\n){0,"+(r-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=t.replace(e,"$1").trim());for(var u=0;u<c.length;u++){if("interactive"===c[u].readyState)return c[u];if(c[u].src===o)return c[u];if(o===l&&c[u].innerHTML&&c[u].innerHTML.trim()===i)return c[u]}return null}}return t}))},"8bbf":function(e,i){e.exports=t},"9f04":function(t,e,i){},a833:function(t,e,i){"use strict";var s=i("bed1"),n=i.n(s);n.a},b17a:function(t,e,i){},bed1:function(t,e,i){},fb15:function(t,e,i){"use strict";if(i.r(e),"undefined"!==typeof window){var s=window.document.currentScript,n=i("8875");s=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n});var a=s&&s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(i.p=a[1])}var o=i("8bbf"),r=i.n(o),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"toastfade"}},[t.visible?i("div",{class:t.toastClass,attrs:{id:t.id}},[i("div",{staticClass:"km-toast-inner",style:t.toastStyle},[t.hasIcon?i("span",{staticClass:"km-toast-icon-wrapper"},[i("i",{class:t.iconClass,style:{"background-image":t.cusIcon}})]):t._e(),i("span",{staticClass:"km-toast-text",domProps:{innerHTML:t._s(t.msg)}})])]):t._e()])},c=[];const u=(t=>{let e;return{open:function(){e=document.scrollingElement.scrollTop||document.body.scrollTop,document.body.classList.add(t),document.body.style.top=-e+"px"},close:function(){document.body.classList.contains(t)&&(document.body.classList.remove(t),document.scrollingElement.scrollTop=e)}}})("km-lock-bg");function d(t,e=0,i=0,s){if(!t)return;const n={useTransfrom:!0,transitionTimingFunction:"cubic-bezier(0.165, 0.84, 0.44, 1)",transitionDuration:".4s"};for(const a in s)n[a]=s[a];n.useTransfrom?(t.style.transform=`translate3d(${e}px,${i}px,0)`,t.style.transitionProperty="transform",t.style.transitionTimingFunction=n.transitionTimingFunction,t.style.transitionDuration=n.transitionDuration):(t.style.left=e,t.style.top=i)}var h={name:"KmToast",components:{},props:{},data(){return{id:"",type:"",visible:!1,msg:"",timer:null,duration:2e3,textAlign:"center",bgColor:"rgba(46, 46, 46, 0.7)",customClass:"",icon:"",loadingRotate:!0,center:!0,onClose:null,lockBg:!1}},computed:{hasIcon(){return"text"!==this.type},cusIcon(){return this.icon?`url(${this.icon})`:""},iconClass(){return["km-toast-icon",this.type,{"km-toast-icon-rotate":"loading"===this.type&&this.loadingRotate}]},toastClass(){return["km-toast",{"km-toast-center":this.center},{"km-toast-has-icon":this.hasIcon},{"km-loading":"loading"===this.type},this.customClass]},toastStyle(){return[{"text-align":this.textAlign},{"background-color":this.bgColor}]}},watch:{visible(t){t&&this.show()}},destroyed(){this.timer=null},methods:{show(){this.clearTimer(),this.duration&&(this.timer=setTimeout(()=>{this.hide()},this.duration)),this.lockBg&&u.open()},hide(){this.clearTimer(),this.visible=!1,this.lockBg&&u.close(),"function"===typeof this.onClose&&this.onClose()},clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}}},f=h;function m(t,e,i,s,n,a,o,r){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),s&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):n&&(l=r?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}var p=m(f,l,c,!1,null,null,null),v=p.exports;const k=r.a.extend(v);let y;const b=[];let g;function x(){y.vm=y.$mount(),document.body.appendChild(y.$el),r.a.nextTick(()=>{y.visible=!0})}function _(t){const e={id:(new Date).getTime(),...t};return e.id&&b[e.id]?(y=b[e.id],y.hide(),y={...y,...e}):(y=new k({data:{...e,...t}}),e.id&&(b[e.id]=y)),x(),y}const C={name:"KmToast",text(t,e={}){return _({...e,msg:t,type:"text"})},success(t,e={}){return _({...e,msg:t,type:"success"})},fail(t,e={}){return _({...e,msg:t,type:"fail"})},warn(t,e={}){return _({...e,msg:t,type:"warn"})},loading(t,e={}){return e.duration=e.duration||0,g=_({...e,msg:t,type:"loading"}),g},hideLoading(){g.hide()}};var w=C;i("9f04");w.install=function(t){t.component(w.name,w)};var T=w,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"km-actionsheet"},[i("transition",{attrs:{name:"kmFade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"km-actionsheet-mask",on:{click:t.handleClickMask}})]),i("transition",{attrs:{name:"kmSlideUp"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"km-actionsheet-panel"},[t.title?i("div",{staticClass:"km-actionsheet-title"},[t._v(" "+t._s(t.title)+" ")]):t._e(),i("div",{staticClass:"km-actionsheet-custom"},[t._t("custom")],2),i("ul",{staticClass:"km-actionsheet-menu"},t._l(t.menuItems,(function(e,s){return i("li",{key:s,staticClass:"km-actionsheet-item",class:{"km-actionsheet-item-active":t.isActive(e),"km-actionsheet-item-disable":e.disable},on:{click:function(i){return t.handleChoose(e,s)}}},[t._v(" "+t._s(e[t.optionTag])+" ")])})),0),t.cancelText?i("div",{staticClass:"km-actionsheet-cancel",on:{click:t.handleCancel}},[t._v(" "+t._s(t.cancelText)+" ")]):t._e()])])],1)},$=[],E={name:"kmActionsheet",props:{visible:{type:Boolean,default:!1},menuItems:{type:Array,default:()=>[]},value:[String,Number,Boolean],optionTag:{type:String,default:"name"},cancelText:{type:String,default:""},lockBg:{type:Boolean,default:!0},title:{type:String,default:""}},watch:{visible(t){this.lockBg&&(t?u.open():u.close())}},methods:{isActive(t){return this.value&&this.value===t.value},close(){this.$emit("close")},handleClickMask(){this.close()},handleChoose(t,e){t.disable||(this.close(),this.$emit("choose",t,e))},handleCancel(){this.$emit("cancel"),this.close()}}},X=E,I=m(X,S,$,!1,null,null,null),P=I.exports;i("2c75");P.install=function(t){t.component(P.name,P)};var L=P,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("km-actionsheet",{attrs:{visible:t.visible},on:{close:t.handleClose}},[i("div",{staticClass:"km-picker",attrs:{slot:"custom"},slot:"custom"},[i("div",{staticClass:"km-picker-control"},[i("div",{staticClass:"km-picker-cancel-btn"},[t._v("取消")]),i("div",{staticClass:"km-picker-title"},[t._v(t._s(t.title))]),i("div",{staticClass:"km-picker-confirm-btn"},[t._v("确定")])]),i("div",{staticClass:"km-picker-panel"},[t._l(t.data,(function(t,e){return[i("picker-slot",{key:e,attrs:{list:t}})]}))],2)])])},M=[],N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"km-picker-list"},[i("div",{staticClass:"km-picker-roller"},t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"km-picker-roller-item"},[t._v(" "+t._s(e.value||e)+" ")])})),0),i("div",{staticClass:"km-picker-content"},[i("div",{staticClass:"km-picker-list-panel"},t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"km-picker-item"},[t._v(" "+t._s(e.value||e)+" ")])})),0)]),i("div",{staticClass:"km-picker-indicator"})])},j=[],O={props:{list:{type:Array,default:()=>[]}},data(){return{}}},B=O,R=m(B,N,j,!1,null,null,null),A=R.exports,D={name:"kmPicker",components:{pickerSlot:A},props:{title:{type:String,default:""},data:{type:Array,default:()=>[]}},data(){return{visible:!0}},methods:{handleClose(){this.visible=!1}}},W=D,F=m(W,Y,M,!1,null,null,null),H=F.exports;i("b17a");H.install=function(t){t.component(H.name,H)};var V=H,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"km-tab"},[i("div",{staticClass:"km-tab-title"},[i("b",{staticClass:"nav-bar",style:[{transform:"translateX("+t.initX+"px)"},{width:t.navWidth+"px"}]}),t._l(t.tabList,(function(e,s){return i("span",{key:s,staticClass:"km-title-nav-list",class:["km-title-nav",{"km-tab-active":t.activeIndex===s}],on:{click:function(i){return t.handleSwitch(s,e)}}},[e?[t._v(t._s(e))]:t._e()],2)}))],2),i("div",{staticClass:"swiper-wrapper"},[i("div",{ref:"swiper",staticClass:"km-tab-item",on:{touchstart:t.handleTouchStart,touchmove:t.handleTouchMove,touchend:t.handleTouchEnd}},[t._t("default")],2)])])},q=[];const U=10,K=50;var G={name:"kmTab",props:{default:{type:[Number,String],default:0},swiper:{type:Boolean,default:!1}},data(){return{initX:0,navWidth:0,activeIndex:0,tabList:[],panelWidth:0,direction:"",diffX:0,diffY:0,offsetX:0,offsetY:0,startX:0,startY:0}},computed:{},watch:{activeIndex(t){this.updatePanel()}},mounted(){this.activeIndex=this.default,this.$nextTick(()=>{this.$slots.default&&this.updatePanel(),this.swiper&&d(this.$refs.swiper,-screen.width*this.default)})},methods:{getDirection(t,e){return t>e&&t>U?"horizontal":e>t&&e>U?"vertical":""},resetTouchStatus(){this.direction="",this.diffX=0,this.diffY=0,this.offsetX=0,this.offsetY=0},handleTouchStart(t){this.swiper&&(this.resetTouchStatus(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY)},handleTouchMove(t){if(!this.swiper)return;const e=t.touches[0];this.diffX=e.clientX-this.startX,this.diffY=e.clientY-this.startY,this.offsetX=Math.abs(this.diffX),this.offsetY=Math.abs(this.diffY),this.direction=this.direction||this.getDirection(this.offsetX,this.offsetY);const{direction:i,diffX:s}=this;"horizontal"===i&&d(this.$refs.swiper,-screen.width*this.activeIndex+s)},handleTouchEnd(t){if(!this.swiper)return;const{direction:e,diffX:i,activeIndex:s}=this;"horizontal"===e&&this.offsetX>=K&&(i>0&&0!==s?this.handleSwitch(s-1):i<0&&s!==this.tabList.length-1&&this.handleSwitch(s+1)),d(this.$refs.swiper,-screen.width*this.activeIndex)},handleSwitch(t,e){this.activeIndex=t,this.initX=this.activeIndex*this.navWidth,this.swiper&&d(this.$refs.swiper,-screen.width*this.activeIndex),this.$emit("change",e)},getTabWidth(){const t=document.querySelector(".km-tab-title"),e=window.getComputedStyle(t).width,i=e.substring(0,e.length-2),s=this.tabList.length;this.navWidth=i/s,this.initX=this.activeIndex*this.navWidth},updatePanel(){setTimeout(()=>{this.tabList=[],this.initPanel([...this.$slots.default])},100)},initPanel(t){for(let e=0;e<t.length;e++){const i=t[e].tag;if("string"===typeof i&&-1!==i.indexOf("kmTabPanel")){const i=t[e].data.attrs;if(this.tabList.push(i.label),!this.swiper){const i=t[e].elm;i&&(this.addClass(i,"hide"),this.activeIndex===e&&this.removeClass(i,"hide"))}}}setTimeout(()=>{this.getTabWidth()},0)},hasClass(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass(t,e){this.hasClass(t,e)||(t.className+=" "+e)},removeClass(t,e){this.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," "))}}},J=G,Q=m(J,z,q,!1,null,null,null),Z=Q.exports;i("0523");Z.install=function(t){t.component(Z.name,Z)};var tt=Z,et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"km-tab-panel",style:{width:t.width}},[t._t("default")],2)},it=[],st={name:"kmTabPanel",props:{},data(){return{width:""}},computed:{},mounted(){this.width=screen.width+"px"},methods:{}},nt=st,at=(i("a833"),m(nt,et,it,!1,null,null,null)),ot=at.exports;ot.install=function(t){t.component(ot.name,ot)};var rt=ot,lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"km-noticebar"},[i("div",{staticClass:"content-wrap",style:{transform:"translate(0, "+t.distance+" )"}},t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"wrap"},[i("div",{staticClass:"text"},[t._v(t._s(e))])])})),0)])},ct=[],ut={name:"kmNoticebar",props:{list:{type:Array,default:()=>[]}},data(){return{current:0}},computed:{distance(){return 40*-this.current+"px"}},mounted(){this.startTimer()},destroyed(){clearTimeout(this.timer)},methods:{startTimer(){const t=this.list.length;this.timer=setTimeout(()=>{this.current===t-1?this.current=0:this.current+=1,this.startTimer()},2e3)}}},dt=ut,ht=m(dt,lt,ct,!1,null,null,null),ft=ht.exports;i("5cf5");ft.install=function(t){t.component(ft.name,ft)};var mt=ft,pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:{height:t.fixed?t.height+"px":null},attrs:{id:"sticky"}},[i("div",{staticClass:"km-sticky",class:{"km-sticky-fixed":t.fixed},style:t.style},[t._t("default")],2)])},vt=[];function kt(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function yt(t){return"scrollTop"in t?t.scrollTop:t.pageYOffset}function bt(t,e){const i=e?yt(e):kt();return t.getBoundingClientRect().top+i}var gt={name:"kmSticky",props:{offsetTop:{type:[Number,String],default:0}},data(){return{fixed:!1,height:0,transform:0}},computed:{style(){if(!this.fixed)return;const t={};return this.offsetTop&&this.fixed&&(t.top=this.offsetTop+"px"),this.transform&&(t.transform=`translate3d(0, ${this.transform}px, 0)`),t}},mounted(){this.onScroll(),window.addEventListener("scroll",this.onScroll,!0)},methods:{onScroll(){this.height=this.$el.offsetHeight;const t=+this.offsetTop,e=yt(window),i=bt(this.$el);i-e<t?(this.fixed=!0,this.transform=0):this.fixed=!1}}},xt=gt,_t=m(xt,pt,vt,!1,null,null,null),Ct=_t.exports;i("4fab");Ct.install=function(t){t.component(Ct.name,Ct)};var wt=Ct;const Tt=[T,L,V,tt,rt,mt,wt],St=(t,e={})=>{Tt.forEach(e=>{t.component(e.name,e)}),t.prototype.$toast=T,t.prototype.hideLoading=T.hideLoading};"undefined"!==typeof window&&window.Vue&&St(window.Vue);var $t={version:"1.0.0",install:St,Toast:T,ActionSheet:L,Picker:V,Tab:tt,TabPanel:rt,Noticebar:mt,Sticky:wt};e["default"]=$t}})}));