(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["km-mui"]=e(require("vue")):t["km-mui"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({"0523":function(t,e,i){},"33c2":function(t,e,i){},"4fab":function(t,e,i){},"5cf5":function(t,e,i){},8875:function(t,e,i){var s,n,a;(function(i,o){n=[],s=o,a="function"===typeof s?s.apply(e,n):s,void 0===a||(t.exports=a)})("undefined"!==typeof self&&self,(function(){function t(){if(document.currentScript)return document.currentScript;try{throw new Error}catch(d){var t,e,i,s=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,n=/@([^@]*):(\d+):(\d+)\s*$/gi,a=s.exec(d.stack)||n.exec(d.stack),o=a&&a[1]||!1,r=a&&a[2]||!1,l=document.location.href.replace(document.location.hash,""),c=document.getElementsByTagName("script");o===l&&(t=document.documentElement.outerHTML,e=new RegExp("(?:[^\\n]+?\\n){0,"+(r-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=t.replace(e,"$1").trim());for(var u=0;u<c.length;u++){if("interactive"===c[u].readyState)return c[u];if(c[u].src===o)return c[u];if(o===l&&c[u].innerHTML&&c[u].innerHTML.trim()===i)return c[u]}return null}}return t}))},"8bbf":function(e,i){e.exports=t},9224:function(t){t.exports=JSON.parse('{"a":"0.1.4"}')},"9f04":function(t,e,i){},a833:function(t,e,i){"use strict";var s=i("bed1"),n=i.n(s);n.a},b17a:function(t,e,i){},bed1:function(t,e,i){},fb15:function(t,e,i){"use strict";if(i.r(e),"undefined"!==typeof window){var s=window.document.currentScript,n=i("8875");s=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n});var a=s&&s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(i.p=a[1])}var o=i("9224"),r=i("8bbf"),l=i.n(r),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"toastfade"}},[t.visible?i("div",{class:t.toastClass,attrs:{id:t.id}},[i("div",{staticClass:"km-toast-inner",style:t.toastStyle},[t.hasIcon?i("span",{staticClass:"km-toast-icon-wrapper"},[i("i",{class:t.iconClass,style:{"background-image":t.cusIcon}})]):t._e(),i("span",{staticClass:"km-toast-text",domProps:{innerHTML:t._s(t.msg)}})])]):t._e()])},u=[];const d=(t=>{let e;return{open:function(){e=document.scrollingElement.scrollTop||document.body.scrollTop,document.body.classList.add(t),document.body.style.top=-e+"px"},close:function(){document.body.classList.contains(t)&&(document.body.classList.remove(t),document.scrollingElement.scrollTop=e)}}})("km-lock-bg");function h(t,e=0,i=0,s){if(!t)return;const n={useTransfrom:!0,transitionTimingFunction:"cubic-bezier(0.165, 0.84, 0.44, 1)",transitionDuration:".4s"};for(const a in s)n[a]=s[a];n.useTransfrom?(t.style.transform=`translate3d(${e}px,${i}px,0)`,t.style.transitionProperty="transform",t.style.transitionTimingFunction=n.transitionTimingFunction,t.style.transitionDuration=n.transitionDuration):(t.style.left=e,t.style.top=i)}var f={name:"KmToast",components:{},props:{},data(){return{id:"",type:"",visible:!1,msg:"",timer:null,duration:2e3,textAlign:"center",bgColor:"rgba(46, 46, 46, 0.7)",customClass:"",icon:"",loadingRotate:!0,center:!0,onClose:null,lockBg:!1}},computed:{hasIcon(){return"text"!==this.type},cusIcon(){return this.icon?`url(${this.icon})`:""},iconClass(){return["km-toast-icon",this.type,{"km-toast-icon-rotate":"loading"===this.type&&this.loadingRotate}]},toastClass(){return["km-toast",{"km-toast-center":this.center},{"km-toast-has-icon":this.hasIcon},{"km-loading":"loading"===this.type},this.customClass]},toastStyle(){return[{"text-align":this.textAlign},{"background-color":this.bgColor}]}},watch:{visible(t){t&&this.show()}},destroyed(){this.timer=null},methods:{show(){this.clearTimer(),this.duration&&(this.timer=setTimeout(()=>{this.hide()},this.duration)),this.lockBg&&d.open()},hide(){this.clearTimer(),this.visible=!1,this.lockBg&&d.close(),"function"===typeof this.onClose&&this.onClose()},clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}}},m=f;function p(t,e,i,s,n,a,o,r){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),s&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):n&&(l=r?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}var v=p(m,c,u,!1,null,null,null),k=v.exports;const y=l.a.extend(k);let b;const g=[];let x;function _(){b.vm=b.$mount(),document.body.appendChild(b.$el),l.a.nextTick(()=>{b.visible=!0})}function C(t){const e={id:(new Date).getTime(),...t};return e.id&&g[e.id]?(b=g[e.id],b.hide(),b={...b,...e}):(b=new y({data:{...e,...t}}),e.id&&(g[e.id]=b)),_(),b}const w={name:"KmToast",text(t,e={}){return C({...e,msg:t,type:"text"})},success(t,e={}){return C({...e,msg:t,type:"success"})},fail(t,e={}){return C({...e,msg:t,type:"fail"})},warn(t,e={}){return C({...e,msg:t,type:"warn"})},loading(t,e={}){return e.duration=e.duration||0,x=C({...e,msg:t,type:"loading"}),x},hideLoading(){x.hide()}};var T=w;i("9f04");T.install=function(t){t.component(T.name,T)};var S=T,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"km-actionsheet"},[i("transition",{attrs:{name:"kmFade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"km-actionsheet-mask",on:{click:t.handleClickMask}})]),i("transition",{attrs:{name:"kmSlideUp"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"km-actionsheet-panel"},[t.title?i("div",{staticClass:"km-actionsheet-title"},[t._v(" "+t._s(t.title)+" ")]):t._e(),i("div",{staticClass:"km-actionsheet-custom"},[t._t("custom")],2),i("ul",{staticClass:"km-actionsheet-menu"},t._l(t.menuItems,(function(e,s){return i("li",{key:s,staticClass:"km-actionsheet-item",class:{"km-actionsheet-item-active":t.isActive(e),"km-actionsheet-item-disable":e.disable},on:{click:function(i){return t.handleChoose(e,s)}}},[t._v(" "+t._s(e[t.optionTag])+" ")])})),0),t.cancelText?i("div",{staticClass:"km-actionsheet-cancel",on:{click:t.handleCancel}},[t._v(" "+t._s(t.cancelText)+" ")]):t._e()])])],1)},E=[],X={name:"kmActionsheet",props:{visible:{type:Boolean,default:!1},menuItems:{type:Array,default:()=>[]},value:[String,Number,Boolean],optionTag:{type:String,default:"name"},cancelText:{type:String,default:""},lockBg:{type:Boolean,default:!0},title:{type:String,default:""}},watch:{visible(t){this.lockBg&&(t?d.open():d.close())}},methods:{isActive(t){return this.value&&this.value===t.value},close(){this.$emit("close")},handleClickMask(){this.close()},handleChoose(t,e){t.disable||(this.close(),this.$emit("choose",t,e))},handleCancel(){this.$emit("cancel"),this.close()}}},I=X,P=p(I,$,E,!1,null,null,null),L=P.exports;i("33c2");L.install=function(t){t.component(L.name,L)};var N=L,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("km-actionsheet",{attrs:{visible:t.visible},on:{close:t.handleClose}},[i("div",{staticClass:"km-picker",attrs:{slot:"custom"},slot:"custom"},[i("div",{staticClass:"km-picker-control"},[i("div",{staticClass:"km-picker-cancel-btn"},[t._v("取消")]),i("div",{staticClass:"km-picker-title"},[t._v(t._s(t.title))]),i("div",{staticClass:"km-picker-confirm-btn"},[t._v("确定")])]),i("div",{staticClass:"km-picker-panel"},[t._l(t.data,(function(t,e){return[i("picker-slot",{key:e,attrs:{list:t}})]}))],2)])])},M=[],O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"km-picker-list"},[i("div",{staticClass:"km-picker-roller"},t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"km-picker-roller-item"},[t._v(" "+t._s(e.value||e)+" ")])})),0),i("div",{staticClass:"km-picker-content"},[i("div",{staticClass:"km-picker-list-panel"},t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"km-picker-item"},[t._v(" "+t._s(e.value||e)+" ")])})),0)]),i("div",{staticClass:"km-picker-indicator"})])},j=[],B={props:{list:{type:Array,default:()=>[]}},data(){return{}}},R=B,A=p(R,O,j,!1,null,null,null),D=A.exports,W={name:"kmPicker",components:{pickerSlot:D},props:{title:{type:String,default:""},data:{type:Array,default:()=>[]}},data(){return{visible:!0}},methods:{handleClose(){this.visible=!1}}},F=W,H=p(F,Y,M,!1,null,null,null),V=H.exports;i("b17a");V.install=function(t){t.component(V.name,V)};var z=V,q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"km-tab"},[i("div",{staticClass:"km-tab-title"},[i("b",{staticClass:"nav-bar",style:[{transform:"translateX("+t.initX+"px)"},{width:t.navWidth+"px"}]}),t._l(t.tabList,(function(e,s){return i("span",{key:s,staticClass:"km-title-nav-list",class:["km-title-nav",{"km-tab-active":t.activeIndex===s}],on:{click:function(i){return t.handleSwitch(s,e)}}},[e?[t._v(t._s(e))]:t._e()],2)}))],2),i("div",{staticClass:"swiper-wrapper"},[i("div",{ref:"swiper",staticClass:"km-tab-item",on:{touchstart:t.handleTouchStart,touchmove:t.handleTouchMove,touchend:t.handleTouchEnd}},[t._t("default")],2)])])},U=[];const K=10,J=50;var G={name:"kmTab",props:{default:{type:[Number,String],default:0},swiper:{type:Boolean,default:!1}},data(){return{initX:0,navWidth:0,activeIndex:0,tabList:[],panelWidth:0,direction:"",diffX:0,diffY:0,offsetX:0,offsetY:0,startX:0,startY:0}},computed:{},watch:{activeIndex(t){this.updatePanel()}},mounted(){this.activeIndex=this.default,this.$nextTick(()=>{this.$slots.default&&this.updatePanel(),this.swiper&&h(this.$refs.swiper,-screen.width*this.default)})},methods:{getDirection(t,e){return t>e&&t>K?"horizontal":e>t&&e>K?"vertical":""},resetTouchStatus(){this.direction="",this.diffX=0,this.diffY=0,this.offsetX=0,this.offsetY=0},handleTouchStart(t){this.swiper&&(this.resetTouchStatus(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY)},handleTouchMove(t){if(!this.swiper)return;const e=t.touches[0];this.diffX=e.clientX-this.startX,this.diffY=e.clientY-this.startY,this.offsetX=Math.abs(this.diffX),this.offsetY=Math.abs(this.diffY),this.direction=this.direction||this.getDirection(this.offsetX,this.offsetY);const{direction:i,diffX:s}=this;"horizontal"===i&&h(this.$refs.swiper,-screen.width*this.activeIndex+s)},handleTouchEnd(t){if(!this.swiper)return;const{direction:e,diffX:i,activeIndex:s}=this;"horizontal"===e&&this.offsetX>=J&&(i>0&&0!==s?this.handleSwitch(s-1):i<0&&s!==this.tabList.length-1&&this.handleSwitch(s+1)),h(this.$refs.swiper,-screen.width*this.activeIndex)},handleSwitch(t,e){this.activeIndex=t,this.initX=this.activeIndex*this.navWidth,this.swiper&&h(this.$refs.swiper,-screen.width*this.activeIndex),this.$emit("change",e)},getTabWidth(){const t=document.querySelector(".km-tab-title"),e=window.getComputedStyle(t).width,i=e.substring(0,e.length-2),s=this.tabList.length;this.navWidth=i/s,this.initX=this.activeIndex*this.navWidth},updatePanel(){setTimeout(()=>{this.tabList=[],this.initPanel([...this.$slots.default])},100)},initPanel(t){for(let e=0;e<t.length;e++){const i=t[e].tag;if("string"===typeof i&&-1!==i.indexOf("kmTabPanel")){const i=t[e].data.attrs;if(this.tabList.push(i.label),!this.swiper){const i=t[e].elm;i&&(this.addClass(i,"hide"),this.activeIndex===e&&this.removeClass(i,"hide"))}}}setTimeout(()=>{this.getTabWidth()},0)},hasClass(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass(t,e){this.hasClass(t,e)||(t.className+=" "+e)},removeClass(t,e){this.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," "))}}},Q=G,Z=p(Q,q,U,!1,null,null,null),tt=Z.exports;i("0523");tt.install=function(t){t.component(tt.name,tt)};var et=tt,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"km-tab-panel",style:{width:t.width}},[t._t("default")],2)},st=[],nt={name:"kmTabPanel",props:{},data(){return{width:""}},computed:{},mounted(){this.width=screen.width+"px"},methods:{}},at=nt,ot=(i("a833"),p(at,it,st,!1,null,null,null)),rt=ot.exports;rt.install=function(t){t.component(rt.name,rt)};var lt=rt,ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"km-noticebar"},[i("div",{staticClass:"content-wrap",style:{transform:"translate(0, "+t.distance+" )"}},t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"wrap"},[i("div",{staticClass:"text"},[t._v(t._s(e))])])})),0)])},ut=[],dt={name:"kmNoticebar",props:{list:{type:Array,default:()=>[]}},data(){return{current:0}},computed:{distance(){return 40*-this.current+"px"}},mounted(){this.startTimer()},destroyed(){clearTimeout(this.timer)},methods:{startTimer(){const t=this.list.length;this.timer=setTimeout(()=>{this.current===t-1?this.current=0:this.current+=1,this.startTimer()},2e3)}}},ht=dt,ft=p(ht,ct,ut,!1,null,null,null),mt=ft.exports;i("5cf5");mt.install=function(t){t.component(mt.name,mt)};var pt=mt,vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:{height:t.fixed?t.height+"px":null},attrs:{id:"sticky"}},[i("div",{staticClass:"km-sticky",class:{"km-sticky-fixed":t.fixed},style:t.style},[t._t("default")],2)])},kt=[];function yt(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function bt(t){return"scrollTop"in t?t.scrollTop:t.pageYOffset}function gt(t,e){const i=e?bt(e):yt();return t.getBoundingClientRect().top+i}var xt={name:"kmSticky",props:{offsetTop:{type:[Number,String],default:0}},data(){return{fixed:!1,height:0,transform:0}},computed:{style(){if(!this.fixed)return;const t={};return this.offsetTop&&this.fixed&&(t.top=this.offsetTop+"px"),this.transform&&(t.transform=`translate3d(0, ${this.transform}px, 0)`),t}},mounted(){this.onScroll(),window.addEventListener("scroll",this.onScroll,!0)},methods:{onScroll(){this.height=this.$el.offsetHeight;const t=+this.offsetTop,e=bt(window),i=gt(this.$el);i-e<t?(this.fixed=!0,this.transform=0):this.fixed=!1}}},_t=xt,Ct=p(_t,vt,kt,!1,null,null,null),wt=Ct.exports;i("4fab");wt.install=function(t){t.component(wt.name,wt)};var Tt=wt;const St=[S,N,z,et,lt,pt,Tt],$t=(t,e={})=>{St.forEach(e=>{t.component(e.name,e)}),t.prototype.$toast=S,t.prototype.hideLoading=S.hideLoading};"undefined"!==typeof window&&window.Vue&&$t(window.Vue);var Et={version:o["a"],install:$t,Toast:S,ActionSheet:N,Picker:z,Tab:et,TabPanel:lt,Noticebar:pt,Sticky:Tt};e["default"]=Et}})}));